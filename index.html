<!DOCTYPE html>
<html lang="sw">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mfumo wa Kutabiri Hatari ya Kifo - Ugonjwa wa Moyo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        body {
            background-color: #f0f8ff;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #333;
            line-height: 1.6;
        }
        .header {
            background: linear-gradient(135deg, #1a6fc4 0%, #1a3c6c 100%);
            color: white;
            padding: 2.5rem 0;
            margin-bottom: 2rem;
            border-bottom: 5px solid #ff6b6b;
        }
        .header h1 {
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        .card {
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
            margin-bottom: 25px;
            border: none;
            overflow: hidden;
            transition: transform 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
        }
        .card-header {
            background: linear-gradient(135deg, #4b6cb7 0%, #182848 100%);
            color: white;
            font-weight: 600;
            border-bottom: none;
        }
        .form-label {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }
        .form-control, .form-select {
            border-radius: 8px;
            padding: 12px 15px;
            border: 2px solid #ddd;
            transition: border-color 0.3s;
        }
        .form-control:focus, .form-select:focus {
            border-color: #4b6cb7;
            box-shadow: 0 0 0 0.25rem rgba(75, 108, 183, 0.25);
        }
        .btn-primary {
            background: linear-gradient(to right, #4b6cb7, #182848);
            border: none;
            padding: 12px 30px;
            font-weight: 600;
            border-radius: 50px;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
            background: linear-gradient(to right, #182848, #4b6cb7);
        }
        .btn-outline-primary {
            color: #4b6cb7;
            border-color: #4b6cb7;
            border-radius: 50px;
            padding: 8px 20px;
            font-weight: 600;
            transition: all 0.3s;
        }
        .btn-outline-primary:hover {
            background-color: #4b6cb7;
            color: white;
            transform: translateY(-2px);
        }
        .result-box {
            display: none;
            padding: 25px;
            border-radius: 12px;
            margin-top: 25px;
            text-align: center;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
        }
        .high-risk {
            background: linear-gradient(135deg, #ff6b6b 0%, #c44141 100%);
            color: white;
        }
        .medium-risk {
            background: linear-gradient(135deg, #ffd166 0%, #f4a261 100%);
            color: #333;
        }
        .low-risk {
            background: linear-gradient(135deg, #06d6a0 0%, #049a75 100%);
            color: white;
        }
        .risk-indicator {
            height: 10px;
            border-radius: 5px;
            margin: 15px 0;
            background: linear-gradient(to right, #06d6a0, #ffd166, #ff6b6b);
        }
        .risk-value {
            font-size: 1.8rem;
            font-weight: 700;
            margin: 10px 0;
        }
        .feature-box {
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid #4b6cb7;
        }
        footer {
            background: #2c3e50;
            color: white;
            padding: 1.5rem 0;
            margin-top: 3rem;
        }
        .instructions {
            background-color: #e9f7fe;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 25px;
            border-left: 4px solid #1a6fc4;
        }
        .deploy-info {
            background-color: #d4edda;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            .header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="header text-center">
        <div class="container">
            <h1 class="display-4">Mfumo wa Kutabiri Hatari ya Kifo kutokana na Ugonjwa wa Moyo</h1>
            <p class="lead">Ingiza taarifa za mgonjwa ili kupata utabiri wa hatari ya kifo kutokana na ugonjwa wa moyo</p>
        </div>
    </div>

    <div class="container">
        <div class="instructions">
            <h4><i class="bi bi-info-circle"></i> Maelekezo ya Matumizi</h4>
            <p class="mb-0">Jaza sehemu zote zilizo chini kwa taarifa za mgonjwa, kisha bofya kitufe cha "Pata Utabiri". Mfumo utakupa makadirio ya hatari ya kifo kutokana na ugonjwa wa moyo.</p>
        </div>

        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title text-center mb-0">Ingiza Taarifa za Mgonjwa</h3>
                    </div>
                    <div class="card-body">
                        <form id="predictionForm">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="age" class="form-label">Umri</label>
                                    <input type="number" class="form-control" id="age" required min="1" max="120" placeholder="Weka umri kwa miaka">
                                    <div class="form-text">Umri wa mgonjwa kwa miaka</div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="gender" class="form-label">Jinsia</label>
                                    <select class="form-select" id="gender" required>
                                        <option value="" selected disabled>Chagua jinsia</option>
                                        <option value="male">Mwanaume</option>
                                        <option value="female">Mwanamke</option>
                                    </select>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="bloodPressure" class="form-label">Shinikizo la Damu (systolic mmHg)</label>
                                    <input type="number" class="form-control" id="bloodPressure" required min="70" max="200" placeholder="e.g. 120">
                                    <div class="form-text">Shinikizo la damu la systolic (mmHg)</div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="cholesterol" class="form-label">Cholesterol (mg/dL)</label>
                                    <input type="number" class="form-control" id="cholesterol" required min="100" max="400" placeholder="e.g. 200">
                                    <div class="form-text">Kiwango cha cholesterol (mg/dL)</div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="sodium" class="form-label">Sodium (mEq/L)</label>
                                    <input type="number" class="form-control" id="sodium" required min="110" max="150" placeholder="e.g. 135">
                                    <div class="form-text">Kiwango cha sodium (mEq/L)</div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="bmi" class="form-label">BMI (uzito kwa mÂ²)</label>
                                    <input type="number" class="form-control" id="bmi" required min="15" max="40" step="0.1" placeholder="e.g. 24.5">
                                    <div class="form-text">Body Mass Index (uzito kwa mita mraba)</div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Mlevi wa sigara?</label>
                                    <div class="d-flex">
                                        <div class="form-check me-3">
                                            <input class="form-check-input" type="radio" name="smoking" id="smokingYes" value="yes" required>
                                            <label class="form-check-label" for="smokingYes">Ndio</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="smoking" id="smokingNo" value="no">
                                            <label class="form-check-label" for="smokingNo">Hapana</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Ana Kisukari?</label>
                                    <div class="d-flex">
                                        <div class="form-check me-3">
                                            <input class="form-check-input" type="radio" name="diabetes" id="diabetesYes" value="yes" required>
                                            <label class="form-check-label" for="diabetesYes">Ndio</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="diabetes" id="diabetesNo" value="no">
                                            <label class="form-check-label" for="diabetesNo">Hapana</label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="text-center mt-4">
                                <button type="submit" class="btn btn-primary btn-lg">Pata Utabiri</button>
                            </div>
                        </form>

                        <div id="loading" class="text-center mt-4" style="display: none;">
                            <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
                                <span class="visually-hidden">Inafanya kazi...</span>
                            </div>
                            <p class="mt-3">Inachambua taarifa, subiri kidogo...</p>
                        </div>

                        <div id="result" class="result-box">
                            <h4 id="resultTitle">Matokeo ya Uchambuzi</h4>
                            <div class="risk-indicator"></div>
                            <div class="risk-value" id="riskValue"></div>
                            <p id="resultDescription"></p>
                            <div class="mt-3">
                                <button id="resetButton" class="btn btn-outline-primary">Ingiza Taarifa Nyingine</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="deploy-info">
            <h4><i class="bi bi-cloud-upload"></i> Maelezo ya Kuweka Mfumo Huku Kwenye Mtandao</h4>
            <p>Mfumo huu umewekwa kwenye GitHub Pages bila malipo yoyote. Ili kuweka tovuti yako mwenyewe:</p>
            <ol>
                <li>Weka code hii kwenye faili ya HTML na uiite <code>index.html</code></li>
                <li>Pakia kwenye repository ya GitHub</li>
                <li>Nenda kwenye Settings > Pages > Chagua "main" branch</li>
                <li>Hifadhi mabadiliko na subiri dakika chache</li>
                <li>Tovuti yako itakuwa live kwenye: <code>https://username.github.io/repository-name</code></li>
            </ol>
        </div>

        <div class="row mt-4">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title mb-0">Maelezo Kuhusu Mfumo</h5>
                    </div>
                    <div class="card-body">
                        <p>Mfumo huu unatumia algorithm maalum za kuchambua taarifa za mgonjwa na kutabiri hatari ya kifo kutokana na ugonjwa wa moyo. Utabiri unatokana na data ya kisayansi na utafiti uliofanywa na wataalamu wa afya.</p>
                        <p><strong>Onyo:</strong> Matokeo haya ni utabiri tu na siyo utambuzi wa kimatibabu. Shauri la daktari ni muhimu kwa upimaji kamili na matibabu.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title mb-0">Vipimo vya Kiafya Vinavyotumika</h5>
                    </div>
                    <div class="card-body">
                        <div class="feature-box">
                            <h6>Shinikizo la Damu</h6>
                            <p class="mb-0">Shinikizo la damu la chini kuliko 120/80 mmHg inachukuliwa kama kawaida kwa watu wazima.</p>
                        </div>
                        <div class="feature-box">
                            <h6>Kiwango cha Cholesterol</h6>
                            <p class="mb-0">Kiwango cha cholesterol kinachopendekezwa ni chini ya 200 mg/dL.</p>
                        </div>
                        <div class="feature-box">
                            <h6>BMI (Body Mass Index)</h6>
                            <p class="mb-0">BMI ya kawaida ni kati ya 18.5 na 24.9. BMI ya 25-29.9 huonyesja uzito mwingi.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="text-center">
        <div class="container">
            <p class="mb-0">Â© 2023 Mfumo wa Kutabiri Hatari ya Kifo - Ugonjwa wa Moyo. Haki zote zimehifadhiwa.</p>
            <p>Imetengenezwa kwa kutumia GitHub Pages</p>
        </div>
    </footer>

    <script>
        document.getElementById('predictionForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Show loading indicator
            document.getElementById('loading').style.display = 'block';
            document.getElementById('result').style.display = 'none';
            
            // Simulate processing time (in a real system, this would be an API call to your model)
            setTimeout(function() {
                // Get form values
                const age = parseInt(document.getElementById('age').value);
                const bloodPressure = parseInt(document.getElementById('bloodPressure').value);
                const cholesterol = parseInt(document.getElementById('cholesterol').value);
                const sodium = parseInt(document.getElementById('sodium').value);
                const bmi = parseFloat(document.getElementById('bmi').value);
                
                // Simple risk calculation (in a real system, this would use your trained model)
                let riskScore = 0;
                
                // Age factor
                if (age > 65) riskScore += 35;
                else if (age > 55) riskScore += 25;
                else if (age > 45) riskScore += 15;
                else if (age > 35) riskScore += 5;
                
                // Blood pressure factor
                if (bloodPressure > 180) riskScore += 30;
                else if (bloodPressure > 160) riskScore += 20;
                else if (bloodPressure > 140) riskScore += 10;
                
                // Cholesterol factor
                if (cholesterol > 280) riskScore += 25;
                else if (cholesterol > 240) riskScore += 15;
                else if (cholesterol > 200) riskScore += 5;
                
                // Sodium factor
                if (sodium > 145) riskScore += 10;
                else if (sodium < 130) riskScore += 5;
                
                // BMI factor
                if (bmi > 35) riskScore += 15;
                else if (bmi > 30) riskScore += 10;
                else if (bmi > 25) riskScore += 5;
                
                // Smoking
                if (document.getElementById('smokingYes').checked) riskScore += 15;
                
                // Diabetes
                if (document.getElementById('diabetesYes').checked) riskScore += 15;
                
                // Ensure risk score is between 0 and 100
                riskScore = Math.min(100, Math.max(0, riskScore));
                
                // Determine risk level
                let riskLevel, riskDescription, resultClass;
                
                if (riskScore >= 70) {
                    riskLevel = "Hatari Kubwa Sana";
                    riskDescription = "Kulingana na taarifa ulizozingizia, kuna uwezekano mkubwa wa hatari ya kifo kutokana na ugonjwa wa moyo. Shauri la daktari linapendekezwa kwa dharura. Upimaji wa kina na matibabu yanahitajika mara moja.";
                    resultClass = "high-risk";
                } else if (riskScore >= 50) {
                    riskLevel = "Hatari Kubwa";
                    riskDescription = "Kuna hatari kubwa ya matatizo yaliyounganishwa na ugonjwa wa moyo. Usahihishaji wa tabia za maisha na kufuatiwa na daktari kunapendekezwa kwa haraka.";
                    resultClass = "high-risk";
                } else if (riskScore >= 30) {
                    riskLevel = "Hatari wa Wastani";
                    riskDescription = "Kuna hatari ya wastani ya kifo kutokana na ugonjwa wa moyo. Inashauriwa kubadilisha tabia za maisha na kufanya upimaji wa mara kwa mara.";
                    resultClass = "medium-risk";
                } else {
                    riskLevel = "Hatari Ndogo";
                    riskDescription = "Kulingana na taarifa ulizozingizia, hatari ya kifo kutokana na ugonjwa wa moyo ni ndogo. Endelea kuwa na tabia nzuri za maisha na kufanya cheki za mara kwa mara.";
                    resultClass = "low-risk";
                }
                
                // Display results
                document.getElementById('resultTitle').textContent = `Kiwango cha Hatari: ${riskLevel}`;
                document.getElementById('riskValue').textContent = `Alama za Hatari: ${riskScore}%`;
                document.getElementById('resultDescription').textContent = riskDescription;
                document.getElementById('result').className = `result-box ${resultClass}`;
                document.getElementById('result').style.display = 'block';
                document.getElementById('loading').style.display = 'none';
                
            }, 2500); // Simulate 2.5 seconds processing time
        });
        
        // Reset form button
        document.getElementById('resetButton').addEventListener('click', function() {
            document.getElementById('predictionForm').reset();
            document.getElementById('result').style.display = 'none';
        });
    </script>
</body>
</html>